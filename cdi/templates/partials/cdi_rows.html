{% load static custom_filters %}
{% for item in centrodesarrolloinfantiles %}
    <tr>
        {% for field in fields %}
            <td data-{{ field.name }}="{{ item|getattr:field.name }}">
                {% if field.link_field %}
                    <a href="{% url field.link_url item.pk %}"
                       {% if field.link_class %}class="{{ field.link_class }}"{% endif %}
                       {% if field.link_title %}title="{{ field.link_title }}"{% endif %}>
                        {{ item|getattr:field.name }}
                    </a>
                {% else %}
                    {{ item|getattr:field.name }}
                {% endif %}
            </td>
        {% endfor %}
        {% if show_actions %}
            <td class="project-actions text-right">
                {% if actions %}
                    <div class="action-buttons" role="group">
                        {% for action in actions %}
                            <a href="{% url action.url_name item.pk %}"
                               class="btn btn-{{ action.type|default:'primary' }} {{ action.class|default:'' }}"
                               title="{{ action.title|default:action.label }}">
                                {% if action.icon %}
                                    <i class="fas fa-{{ action.icon }}"></i>
                                {% elif action.label == 'Ver' %}
                                    <i class="fas fa-eye"></i>
                                {% elif action.label == 'Editar' %}
                                    <i class="fas fa-edit"></i>
                                {% elif action.label == 'Eliminar' %}
                                    <i class="fas fa-trash-alt"></i>
                                {% endif %}
                                {{ action.label }}
                            </a>
                        {% endfor %}
                    </div>
                {% endif %}
            </td>
        {% endif %}
    </tr>
{% empty %}
    <tr>
        <td colspan="{% if show_actions %}{{ table_headers|length|add:1 }}{% else %}{{ table_headers|length }}{% endif %}"
            class="text-center text-muted py-4">No hay centros de desarrollo infantil registrados.</td>
    </tr>
{% endfor %}
