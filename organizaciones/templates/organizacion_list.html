{% extends "includes/main.html" %}
{% load static %}
{% block title %}Organizaciones{% endblock %}
{% block breadcrumb %}
    <ol class="breadcrumb float-sm-right">
        <li class="breadcrumb-item">
            <a href="{% url 'organizaciones' %}">Organizaciones</a>
        </li>
        <li class="breadcrumb-item active">Listar</li>
    </ol>
{% endblock %}
{% block content %}
    <!-- Estilos modernos reutilizables para listados -->
    <link rel="stylesheet" href="{% static 'custom/css/listModerno.css' %}" />
    {% url 'organizaciones_ajax' as ajax_url %}
    {% include 'components/search_bar.html' with titulo='Buscar Organizacion' placeholder='Buscar por nombre, CUIT, telefono o email' help_text='Ingresar nombre, CUIT, telefono o email.' reset_url='organizaciones' add_url='organizacion_crear' add_text='Agregar' ajax_search_mode=True ajax_url=ajax_url target_tbody_id='organizaciones-tbody' query=query %}
    <div class="row mt-5 max-width-100">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <table class="table table-bordered table-striped projects">
                        <thead>
                            <tr>
                                <th class="sortable" data-column="nombre">
                                    Nombre
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th class="sortable" data-column="cuit">
                                    CUIT
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th class="sortable" data-column="telefono">
                                    Tel√©fono
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th class="sortable" data-column="email">
                                    Email
                                    <i class="fas fa-sort sort-icon"></i>
                                </th>
                                <th style="width: 15%" class="notexport">Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="organizaciones-tbody">
                            {% include 'organizaciones/partials/organizacion_rows.html' with organizaciones=organizaciones %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div id="pagination-container">
        {% include 'components/pagination.html' with is_paginated=is_paginated page_obj=page_obj query=query prev_text='Volver' next_text='Continuar' %}
    </div>
{% endblock %}
{% block customJS %}
    <!-- Script de ordenamiento reutilizable para tablas -->
    <script src="{% static 'custom/js/listSort.js' %}"></script>
{% endblock %}
